@using Benefit.Common.Extensions
@using Benefit.Common.Helpers
@using Benefit.Domain.Models
@model  Benefit.DataTransfer.ViewModels.PaginatedList<Order>

@if (Model.Items.Any())
{
    <ul class="pagination">
        @for (int i = 0; i < Model.Pages; i++)
        {
            <li class="@(i == Model.ActivePage ? "active" : "" )">
                <a href="#" data-page-number="@i">@(i + 1)</a>
            </li>
        }
    </ul>
}
<table class="table">
    <tr>
        <th>
            Номер
        </th>
        @if (Model.Items.Any() && Model.Items.First().OrderType == OrderType.BenefitCard)
        {
            <th>
                Номер чеку
            </th>
        }
        <th>
            Постачальник
        </th>
        <th>
            Касир
        </th>
        <th>
            Партнер
        </th>
        <th>
            Сума
        </th>
        <th>
            Час
        </th>
        @if (Model.Items.Any() && Model.Items.First().OrderType == OrderType.BenefitSite)
        {
            <th>
                Метод оплати
            </th>
            <th>
                Статус
            </th>
            <th></th>
        }
    </tr>

    @foreach (var item in Model.Items)
    {
        <tr>
            <td>
                @Html.DisplayFor(modelItem => item.OrderNumber)
            </td>
            @if (Model.Items.Any() && Model.Items.First().OrderType == OrderType.BenefitCard)
            {
                <td>
                    @Html.DisplayFor(modelItem => item.Description)
                </td>
            }
            <td>
                @Html.DisplayFor(modelItem => item.SellerName)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.PersonnelName)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.User.FullName)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Sum)
            </td>
            <td>
                @item.Time.ToLocalDateTimeWithFormat()
            </td>
            @if (item.OrderType == OrderType.BenefitSite)
            {
                <td>
                    @Enumerations.GetEnumDescription(item.PaymentType)
                </td>
                <td>
                    @Enumerations.GetEnumDescription(item.Status)
                </td>

                <td>
                    @Html.ActionLink("Детальніше", "Details", "Orders", new { id = item.Id }, new { target = "_blank" })
                    @*@if (item.OrderType == OrderType.BenefitCard)
                        {
                            @Html.ActionLink("Видалити", "Delete", new { id = item.Id }, new { onclick = "return confirm('Ви впевненні?')" })
                        }*@
                </td>
            }
        </tr>
    }
</table>
@if (Model.Items.Any())
{
    <ul class="pagination">
        @for (int i = 0; i < Model.Pages; i++)
        {
            <li class="@(i == Model.ActivePage ? "active" : "" )">
                <a href="#" data-page-number="@i">@(i + 1)</a>
            </li>
        }
    </ul>
}   