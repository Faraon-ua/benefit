@using Benefit.Common.Constants
@model List<Benefit.Domain.Models.Product>

@{
    ViewBag.Title = "Переклад";
    var localizations = Model.SelectMany(entry => entry.Localizations).Select(entry => entry.ResourceField).Distinct().ToList();
}

<div class="table-responsive">
    <table class="table table-striped table-bordered table-hover" id="sample-table-1">
        <thead>
            <tr>
                <th>
                    Код
                </th>
                <th>
                    Назва
                </th>
                @foreach (var localization in localizations)
                {
                    <th>
                        @localization
                    </th>
                }
            </tr>
        </thead>
        <tbody>
            @foreach (var product in Model)
            {
                <tr id="tr-@product.Id">
                    <td>
                        @product.SKU
                    </td>
                    <td>
                        @Html.RouteLink(product.Name, RouteConstants.ProductRouteWithSellerName,
                            new {productUrl = product.UrlName, categoryUrl = product.Category.UrlName, sellerUrl = product.Seller.UrlName},
                            new {target = "_blank"})
                    </td>
                    @foreach (var localization in localizations)
                    {
                        <td>
                            @product.Localizations.FirstOrDefault(entry=>entry.ResourceField == localization).ResourceValue;
                        </td>
                    }
                </tr>
            }
        </tbody>
    </table>
</div>