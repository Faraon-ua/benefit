@model Benefit.DataTransfer.ViewModels.CompleteOrderViewModel
@using Benefit.Common.Constants
<div class="delivery_address">
    @{
        var defaultAddress = Model.Addresses.FirstOrDefault(entry => entry.IsDefault);
        defaultAddress = defaultAddress ?? Model.Addresses.FirstOrDefault();
        var defaultAddressId = defaultAddress == null ? "" : defaultAddress.Id;
    }
    @foreach (var address in Model.Addresses)
    {
        var className = (address.Id == defaultAddressId) ? "active" : "";
        <div class="delivery_address_item @className" @(className != "active" ? "style=display:none;" : "") data-address-id="@address.Id">
            <p class="adress_name">@address.FullName</p>
            <p class="adress_main">@(address.Region.Name_ua + ", " + address.AddressLine)</p>
            <p class="adress_phone">@address.Phone</p>
        </div>
    }
    <div class="clearfix"></div>
    <div class="address_choice_wrap">
        <a href="#" class="chose_new_address">+ Обрати іншу адресу</a>
        <a href="@Url.Action("useraddress", "panel", new { area = DomainConstants.CabinetAreaName })" class="add_new_address margin-left-10">+ Додати нову адресу</a>
    </div>
    @Html.Hidden("AddressId", Model.AddressId ?? defaultAddressId)
</div>

